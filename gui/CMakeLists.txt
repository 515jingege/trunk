IF(${QGLVIEWER_FOUND} AND ${OPENGL_FOUND})
  FIND_PACKAGE(Qt4 COMPONENTS QtCore QtGui QtOpenGL REQUIRED)
  SET(SRC_LIB "${SRC_LIB};lib/opengl/GLUtils.cpp")

  INCLUDE_DIRECTORIES(${QT_INCLUDES})
  INCLUDE_DIRECTORIES(${QGLVIEWER_INCLUDE_DIR})
  ADD_LIBRARY(_GLViewer SHARED qt4/GLViewer.cpp;qt4/_GLViewer.cpp;qt4/OpenGLManager.cpp)
  SET_TARGET_PROPERTIES(_GLViewer PROPERTIES PREFIX "")
  INSTALL(TARGETS _GLViewer DESTINATION ${YADE_PY_PATH}/yade/qt)

  FILE(GLOB filesPYQT "${CMAKE_CURRENT_SOURCE_DIR}/qt4/*.py")
  INSTALL(FILES ${filesPYQT} DESTINATION ${YADE_PY_PATH}/yade/qt)
ENDIF(${QGLVIEWER_FOUND} AND ${OPENGL_FOUND})

